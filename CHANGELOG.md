# Changelog

## 2026-01-07

### Replaced Rich Text Editor and Upgraded Journal Feature

This update replaces the legacy rich text editor (`react-quill`), which is incompatible with React 19, with a modern, robust solution using **Tiptap**.

**Key Features:**

*   **Modern Editor:** Implemented Tiptap for a stable and extensible rich text editing experience.
*   **Component-Based:** Created a new reusable `RichTextEditor` component for use across the application.
*   **Seamless Integration:** The new editor is now used for creating and editing journal entries in the admin panel.

**Changes:**

*   **Dependencies:**
    *   Removed `react-quill`.
    *   Added `@tiptap/react` and `@tiptap/starter-kit`.
*   **New Component:**
    *   `src/components/RichTextEditor.js`: A new, self-contained Tiptap editor component.
*   **New Styles:**
    *   `src/app/tiptap.css`: Basic styling for the new editor and its toolbar.
*   **Admin Panel Updates:**
    *   `src/app/admin/journal/new/page.js`: Now uses the `RichTextEditor` component.
    *   `src/app/admin/journal/edit/[id]/EditJournalEntry.js`: Upgraded to use the `RichTextEditor` component.
*   **Frontend Rendering:**
    *   `src/app/journal/[slug]/page.js`: Updated to correctly render the clean HTML generated by Tiptap.

---

## [2026-01-06]

### Implemented Orders Section and Payment Integration

This update introduces a complete orders section to the admin dashboard and integrates a payment system using Stripe.

**Key Features:**

*   **Guest Checkout:** Customers can now place orders without creating an account.
*   **Order Management:** A new "Orders" section in the admin dashboard allows for viewing all orders and their details.
*   **Stripe Integration:** The checkout process is now powered by Stripe, allowing for secure credit card payments.
*   **Database Updates:** The database schema has been updated to support orders and payment information.
*   **API Routes:** New API routes have been created to handle orders, payment intents, and webhooks.

**Changes:**

*   **New Pages:**
    *   `src/app/checkout/page.js`: Updated to handle order creation and payment processing.
    *   `src/app/thank-you/page.js`: A new page to thank customers after a successful order.
    *   `src/app/admin/orders/page.js`: A new page in the admin dashboard to display all orders.
    *   `src/app/admin/orders/[id]/page.js`: A new page in the admin dashboard to display the details of a single order.
*   **New Components:**
    *   `src/components/CheckoutForm.js`: A new component to handle the Stripe payment form.
*   **New API Routes:**
    *   `src/app/api/orders/route.js`: For creating and retrieving orders.
    *   `src/app/api/orders/[id]/route.js`: For retrieving a single order.
    *   `src/app/api/create-payment-intent/route.js`: For creating a Stripe payment intent.
    *   `src/app/api/webhook/route.js`: For handling Stripe webhooks.
*   **Database Schema:**
    *   `prisma/schema.prisma`: The `Order` model has been updated, and a new `OrderItem` model has been added.

**Future Enhancements (as per `TODO.md`):**

*   **User Accounts:** Implement user registration and login.
*   **Persistent Carts:** Save a user's cart across sessions.
*   **Wishlist:** Allow users to save items for later.
