generator client {
  provider        = "prisma-client-js"
}

datasource db {
  provider  = "postgresql"
  
}

model Product {
  id          String   @id @default(cuid())
  name        String
  brand       String
  scale       String
  price       String

  // THE KEY CHANGE: We store a list of URLs, not just one
  images      String[] 
  video       String? 

  description String?
  editorsNote String?
  material    String?
  condition   String?

  featured    Boolean  @default(false)
  category    String   @default("Archive")
  stock       Int      @default(1)
  orderItems  OrderItem[]
  createdAt   DateTime @default(now())
}

model Order {
  id             String @id @default(cuid())

  // Associates order with a user from Clerk, optional for guest checkouts
  userId         String?

  firstName      String
  lastName       String
  email          String
  phone          String
  address        String
  city           String
  postalCode     String
  country        String
  shippingMethod String
  total          Float
  status         String      @default("PENDING") // Fulfillment status: PENDING, SHIPPED, DELIVERED
  items          OrderItem[]

  // Payment-related fields
  paymentStatus     String  @default("UNPAID") // UNPAID, PAID, FAILED
  razorpayOrderId   String? @unique
  razorpayPaymentId String? @unique
  razorpaySignature String?

  createdAt DateTime @default(now())
}



model OrderItem {



  id        String @id @default(cuid())



  name      String



  price     Float



  quantity  Int



  image     String



  order     Order  @relation(fields: [orderId], references: [id])
  orderId   String

  product   Product @relation(fields: [productId], references: [id])
  productId String



}







model JournalEntry {


  id          String   @id @default(cuid())

  title       String

  slug        String   @unique

  content     String

  author      String?

  isPublished Boolean  @default(false)

  createdAt   DateTime @default(now())

  updatedAt   DateTime @updatedAt

  imageUrl    String?

  videoUrl    String?


}
